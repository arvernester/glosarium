{"version":3,"sources":["dictionary.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dictionary.js","sourcesContent":["Vue.use(VueHead);\n\nvar app = new Vue({\n    el: '#app',\n    data: {\n        metadata: {\n            title: Dictionary.metadata.title,\n            meta: [\n                { name: 'description', content: Dictionary.metadata.description },\n                { name: 'author', content: 'Glosarium Indonesia' }\n            ]\n        },\n        alerts: {\n            type: 'info',\n            message: null\n        },\n        forms: {\n            _token: Laravel.csrfToken,\n            keyword: Dictionary.keyword\n        },\n        inputs: {\n            keyword: {\n                class: null,\n                disabled: false\n            }\n        },\n        buttons: {\n            search: {\n                label: 'Cari',\n                class: null\n            }\n        },\n        word: null,\n        words: null\n    },\n    head: {\n        title: function() {\n            return {\n                inner: this.metadata.title,\n                separator: ' ',\n                complement: ' '\n            }\n        },\n        meta: function() {\n            return this.metadata.meta;\n        }\n    },\n\n    mounted: function() {\n        if (this.forms.keyword) {\n            this.preloadWord();\n        }\n\n        this.latestWords();\n    },\n\n    methods: {\n\n        searchWord: function(el) {\n            var url = Dictionary.url.search;\n            var vm = this;\n\n            this.buttons.search = {\n                label: 'Mencari...',\n                class: 'disabled'\n            };\n\n            this.inputs.keyword = {\n                class: 'disabled',\n                disabled: true\n            };\n\n            this.alerts = {\n                message: null\n            };\n\n            var self = this;\n\n            this.$http.post(el.target.action, this.forms).then(function(response){\n                if (response.ok) {\n                    if (response.body.word) {\n                        this.word = response.body.word;\n\n                        this.metadata.title = 'Arti Kata \"' + this.word.word + '\"';\n\n                        if (this.word.descriptions) {\n                            this.metadata.meta = [\n                                { name: 'description', content: this.word.descriptions[0].text }\n                            ]\n                        }\n                    }\n                    else {\n                        this.alerts = {\n                            type: 'info',\n                            message: 'Kata \"' + this.forms.keyword + '\" tidak ditemukan dalam kamus.'\n                        }\n\n                        this.metadata.title = this.alerts.message;\n                    }\n\n                    this.$emit('updateHead');\n                }\n\n                this.buttons.search = {\n                    label: 'Cari',\n                    class: null\n                };\n\n                this.inputs.keyword = {\n                    class: null,\n                    disabled: false\n                };\n            });\n        },\n\n        latestWords: function() {\n            var url = Dictionary.url.latest;\n\n            this.$http.get(url).then(function(response){\n                if (response.ok) {\n                    this.words = response.body.words;\n                }\n            })\n        },\n\n        preloadWord: function() {\n            var url = Dictionary.url.search;\n\n            this.$http.post(url, this.forms).then(function(response){\n                if (response.ok && response.body.word) {\n                    this.word = response.body.word;\n\n                    // modify metadata\n                    this.metadata.title = 'Arti Kata \"' + this.word.word + '\"';\n\n                    if (this.word.descriptions) {\n                        this.metadata.meta = [\n                            { name: 'description', content: this.word.descriptions[0].text }\n                        ]\n                    }\n\n                    this.$emit('updateHead');\n                }\n                else {\n                    this.alerts = {\n                        type: 'info',\n                        message: 'Kata tidak \"'+ this.forms.keyword +'\" ditemukan dalam kamus.'\n                    }\n                }\n            }, function(response){\n                this.alerts = {\n                    type: 'error',\n                    message: 'Terjadi kesalahan pada sistem.'\n                }\n            });\n        },\n\n        copyUrl: function() {\n            \n        }\n    }\n});"]}